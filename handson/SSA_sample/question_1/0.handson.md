
# ハンズオン目標

1. AWSの有用性を感じる
2. サンプル問題の環境を再現しながら雰囲気をつかむ
3. 選択肢それぞれの意味を理解しつつ、インフラ知識のきっかけを得る


# 問1の整理

詳細はpdfを参照

* 環境
  * 複数のアベイラビリティーゾーンにまたがるVPC
  * パブリック層のWebApp
  * プライベートサブネット上のEC2
* 問題
  * プライベートのEC2でインターネットアクセスする際の方法
* 選択肢
  * A パブリックサブネットで NAT ゲートウェイを構成する。
  * B インターネットトラフィック用の NAT ゲートウェイへのルートがあるカスタムルートテーブルを定義し、アプリケーション層のプライベートサブネットに関連付ける。
  * C Elastic IP アドレスを EC2 インスタンスに割り当てる。
  * D インターネットトラフィック用のインターネットゲートウェイへのルートがあるカスタムルートテーブルを定義し、アプリケーション層のプライベートサブネットに関連付ける。
  * E プライベートサブネットで NAT インスタンスを設定する。

## 正解

A、B – NAT ゲートウェイは、プライベートサブネット内の EC2 インスタンスからインターネットや他の
AWS のサービスにトラフィックを転送し、その応答をインスタンスに送り返します。
NAT ゲートウェイを作成した後、プライベートサブネットのルートテーブルを更新して、
インターネットトラフィックを NAT ゲートウェイに向ける必要があります。





# ハンズオン

## flow

1. 作業環境構築
   1. アカウント
      1. 自分の持ってる人は各自それを使用
      2. 自分の使いたくない人と、作れない人はユーザ追加依頼
2. インフラ構築
3. テスト

## 課題

1. サンプル問題の主な要素
   1. VPC
   2. サブネット
   3. NAT gateway
   4. パブリックネットワークのアプリケーション
   5. プライベートネットワークのアプリケーション

これらを構築してみる。

アプリケーションに関しては本題ではないので、
できる範囲でお好みの環境を用意する。
自分はEC2で雑なWebサイトを構築した。

どの要素をどの順番で作っていくかも腕の見せ所。





